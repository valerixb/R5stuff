# Overview
Sample applications I wrote for a Xilinx Zynq Ultrascale+ system with both R5/baremetal and A53/linux cohexisting and sharing the PL resources.
The final application will be a control system with (multichannel) ADC and DAC, using PL for acquisition (~0.5 MSps max sampling rate) and fast processing (if any), 
R5 for the actual control loop (~1kHz max sampling rate) and linux on A53 for command and control. R5 gets IRQs from the PL to get samples; 
A53 and R5 communicate using openAmp (=shared memory + IPI = inter processor interrupt).

## PL System
In the PL there are a few IPs, which mimic the resources I am interested in for the final application, like sampling clock and ADC/DAC interface; 
in this example there are:
- an AXI timer; it can generate an interrupt; it is representative of a samplink clock
- an AXI GPIO; it can generate an interrupt; it is representative of asyncronous external I/O
- a custom AXI IP with a register bank ("REGBANK")); it can generate an interrupt; it is representative of the glue logic to interface ADC and DAC

See picture of the block design:
![PL block design for sample R5 apps](https://github.com/user-attachments/assets/adc81bdd-4bd1-4589-8356-ba22d7154d88)

# Example list
All the examples are mainly for R5/baremetal; the ones that have inter processor communication also include a linux (A53) part

## rtest1 (baremetal R5)
Read/write AXI register bank only; no interrupts

## rtest2irq1 (baremetal R5)
Like rtest1, but add a service routine for the interrupt generated by the REGBANK IP

## rtest3irq2 (baremetal R5)
Like rtest2irq1, but add axi GPIO with its interrupt

## rtest4irq3 (baremetal R5)
Like rtest3irq2, but add axi TIMER with its interrupt







